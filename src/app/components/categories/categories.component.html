
 <div class="container py-5" style="background-color: #f5f0e8;">

  <h2 class="text-center mb-4" style="color: #5a4a42;">Select a Category</h2>



  <div class="mb-4 d-flex justify-content-center">

    <select class="form-select w-50"

            style="border-color: RGB(137, 150, 129); color: #5a4a42;"

            [(ngModel)]="selectedCategoryId"

            (change)="onCategoryChange()">

      <option value="0" disabled [selected]="selectedCategoryId === 0">Select a category</option>

      <option *ngFor="let category of categories.data" [value]="category.categoryId">

        {{ category.name }}

      </option>

    </select>

  </div>



  <div *ngIf="selectedCategoryProducts.length > 0">

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

      <div *ngFor="let product of selectedCategoryProducts" class="col">

        <div class="card h-100 border-0 shadow-sm" style="background-color: #fffcf7; transition: all 0.3s ease;">

          <div class="card-header border-0 bg-transparent position-relative">

            <button class="btn btn-link position-absolute top-0 end-0 p-2" style="color: RGB(187, 119, 84);">

              <i class="far fa-heart fa-lg"></i>

            </button>

          </div>



          <ng-container *ngIf="product.image; else noImage">

            <img loading="lazy" [src]="product.image"

                 class="card-img-top object-fit-cover"

                 style="height: 200px;"

                 [alt]="product.name">

          </ng-container>

          <ng-template #noImage>

            <div class="d-flex align-items-center justify-content-center"

                 style="height: 200px; background-color: #f8f8f8;">

              <i class="fas fa-image fa-3x" style="color: RGB(137, 150, 129);"></i>

            </div>

          </ng-template>



          <div class="card-body d-flex flex-column">

            <h3 class="card-title mb-2" style="color: RGB(187, 119, 84);">

              <i class="fas fa-tag me-2" style="color: RGB(137, 150, 129);"></i>

              {{ product.name }}

            </h3>



            <div class="mb-2" style="color: RGB(137, 150, 129);">

              <i class="fas fa-star"></i>

              <i class="fas fa-star"></i>

              <i class="fas fa-star"></i>

              <i class="fas fa-star-half-alt"></i>

              <i class="far fa-star"></i>

              <span class="ms-1">(24)</span>

            </div>



            <p class="card-text mb-3 flex-grow-1" style="color: RGB(137, 150, 129);">

              <i class="fas fa-info-circle me-2"></i>

              {{ product.description }}

            </p>



            <div class="d-flex justify-content-between align-items-center mt-auto">

              <span class="fw-bold fs-4" style="color: RGB(187, 119, 84);">

                <i class="fas fa-coins me-2"></i>

                {{ product.priceAfterSale }} EGP

              </span>

              <div class="btn-group" role="group">

                <button class="btn btn-sm me-1 d-flex align-items-center justify-content-center"

                        style="background-color: RGB(187, 119, 84); color: white;"

                        title="View"

                        [routerLink]="['/product-details', product.productId]">

                  <i class="fas fa-eye me-1"></i> View

                </button>



                <button class="btn btn-sm d-flex align-items-center justify-content-center"

                        style="background-color: RGB(137, 150, 129); color: white;"

                        title="Add to Cart"

                        (click)="AddToCart(product.productId, product.stock)">

                  <i class="fas fa-shopping-cart me-1"></i> Add

                </button>

              </div>

            </div>

          </div>



        </div>

      </div>

    </div>

  </div>



  <div *ngIf="selectedCategoryProducts.length === 0 && selectedCategoryId != 0"

       class="mt-5 text-center py-5">

    <div class="py-4 px-3 rounded"

         style="background-color: rgba(255,255,255,0.7); max-width: 500px; margin: 0 auto;">

      <i class="fas fa-box-open fa-3x mb-3" style="color: RGB(137, 150, 129);"></i>

      <p class="fs-5 mb-0" style="color: RGB(137, 150, 129); font-family: 'Montserrat', sans-serif;">

        No products available for this category yet. Check back soon!

      </p>

    </div>

  </div>

</div>